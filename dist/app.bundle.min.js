!function e(t,a,r){function o(n,i){if(!a[n]){if(!t[n]){var l="function"==typeof require&&require;if(!i&&l)return l(n,!0);if(s)return s(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var d=a[n]={exports:{}};t[n][0].call(d.exports,function(e){var a=t[n][1][e];return o(a?a:e)},d,d.exports,e,t,a,r)}return a[n].exports}for(var s="function"==typeof require&&require,n=0;n<r.length;n++)o(r[n]);return o}({1:[function(e,t,a){!function(){"use strict";var t=angular.module("brisas",["ui.router","ngAnimate","ui.bootstrap","ngSanitize","ui-rangeSlider"]).config(function(e,t){t.otherwise("/"),e.state("home",{url:"/",templateUrl:"./dist/routes/home/home.template.html",data:{requireAdmin:!1},controller:"homeCtrl",controllerAs:"home"}).state("home.paquetes",{url:"paquetes",templateUrl:"./dist/routes/paquetes/paquetes.template.html",data:{requireAdmin:!1},controller:"packageCtrl",controllerAs:"package"}).state("home.pckgDescription",{url:"paquetes/{packageId}",templateUrl:"./dist/routes/paquetes-desc/paquetes-desc.template.html",data:{requireAdmin:!1},controller:"packageDescCtrl",controllerAs:"packageDesc"}).state("home.conocenos",{url:"conocenos",templateUrl:"./dist/routes/conocenos/conocenos.template.html",data:{requireAdmin:!1},controller:"knowUsCtrl",controllerAs:"knowUs"}).state("home.tasar",{url:"tasar/q={from}&{to}&{time}",templateUrl:"./dist/routes/tasar/search-brisas.template.html",data:{requireAdmin:!1},controller:"rateCtrl",controllerAs:"rate"}).state("home.login",{url:"login",templateUrl:"./dist/routes/login/login.template.html",data:{requireAdmin:!1},controller:"loginCtrl",controllerAs:"login"}).state("home.editUser",{url:"editar-usuario",params:{user:{},userId:""},templateUrl:"./dist/routes/editUser/editUser.template.html",data:{requireAdmin:!1},controller:"editUsersCtrl",controllerAs:"editUser"}).state("home.register",{url:"register/:token",templateUrl:"./dist/routes/register/register.template.html",data:{requireAdmin:!1},controller:"registerCtrl",controllerAs:"register"}).state("home.editPackage",{url:"editar-paquete/{packageId}",templateUrl:"./dist/routes/addPackage/addPackage.template.html",data:{requireAdmin:!0},controller:"addPackageCtrl",controllerAs:"addPackage"}).state("home.dashboard",{url:"administrar",abstract:!0,data:{requireAdmin:!0},views:{"":{templateUrl:"./dist/routes/dashboard/dashboard.template.html",data:{requireAdmin:!0},controller:"dashboardCtrl",controllerAs:"dashboard"}}}).state("home.dashboard.addPackage",{url:"",params:{pkgedit:{}},views:{tab1:{templateUrl:"./dist/routes/addPackage/addPackage.template.html",controller:"addPackageCtrl",controllerAs:"addPackage"},tab2:{templateUrl:"./dist/routes/editFares/editFares.template.html",controller:"faresCtrl",controllerAs:"fares"},tab3:{templateUrl:"./dist/routes/adminUsers/adminUsers.template.html",controller:"adminUsersCtrl",controllerAs:"adminUsers"},tab4:{templateUrl:"./dist/routes/reqPackages/reqPackages.template.html",controller:"reqPackagesCtrl",controllerAs:"reqPackages"},tab5:{templateUrl:"./dist/routes/reqTrips/reqTrips.template.html",controller:"reqTripsCtrl",controllerAs:"reqTrips"}}}).state("home.choferes",{url:"choferes",templateUrl:"./dist/routes/choferes/choferes.template.html",data:{requireAdmin:!1},controller:"driversCtrl",controllerAs:"drivers"}).state("home.fpwd",{url:"reset-pwd/:token",templateUrl:"./dist/routes/fpwd/fpwd.template.html",data:{requireAdmin:!1},controller:"fpwdCtrl",controllerAs:"fpwd"}).state("home.landing",{url:"finalizar-compra",templateUrl:"./dist/routes/landingBuyPackage/landing.template.html",data:{requireAdmin:!1},controller:"landingCtrl",controllerAs:"landing"}).state("home.buyPackage",{url:"comprar",params:{paymentGatewayUrl:null,packageId:null},templateUrl:"./dist/routes/buyPackage/buyPackage.template.html",data:{requireAdmin:!1},controller:"buyPackageCtrl",controllerAs:"buyPackage"})});t.run(function(e,t,a){self.isAdmin=0,e.$on("$stateChangeStart",function(e,r,o,s,n){$(".collapse").removeClass("in"),t.post("./dist/php/check_session.php",{sskey:sessionStorage.getItem("sskey"),getuserinfo:!1}).success(function(t){self.isAdmin=t.isAdmin;var o=r.data.requireAdmin;(o&&0==self.isAdmin||o&&void 0==self.isAdmin)&&(e.preventDefault(),a.go("home",{reload:!0}))})})}),t.filter("start",function(){return function(e,t){if(e&&e.length)return t=+t,e.slice(t)}}),e("./routes/home/home.js")(angular,t),e("./components/navbar-brisas/navbar-brisas.js")(angular,t),e("./components/header-brisas/header-brisas.js")(angular,t),e("./components/brisas-service-description/brisas-service-description.js")(angular,t),e("./components/brisas-paquetes/brisas-paquetes.js")(angular,t),e("./components/brisas-seguridad/brisas-seguridad.js")(angular,t),e("./components/brisas-carousel/brisas-carousel.js")(angular,t),e("./components/brisas-chofer/brisas-chofer.js")(angular,t),e("./components/brisas-contacto/brisas-contacto.js")(angular,t),e("./components/brisas-footer/brisas-footer.js")(angular,t),e("./components/uploader/uploader.js")(angular,t),e("./services/uploadService.js")(angular,t),e("./routes/paquetes/paquetes.js")(angular,t),e("./routes/paquetes-desc/paquetes-desc.js")(angular,t),e("./routes/conocenos/conocenos.js")(angular,t),e("./routes/choferes/choferes.js")(angular,t),e("./routes/editFares/editFares.js")(angular,t),e("./routes/editUser/editUser.js")(angular,t),e("./routes/adminUsers/adminUsers.js")(angular,t),e("./routes/reqPackages/reqPackages.js")(angular,t),e("./routes/reqTrips/reqTrips.js")(angular,t),e("./routes/dashboard/dashboard.js")(angular,t),e("./routes/buyPackage/buyPackage.js")(angular,t),e("./routes/landingBuyPackage/landing.js")(angular,t),e("./routes/login/login.js")(angular,t),e("./routes/fpwd/fpwd.js")(angular,t),e("./routes/register/register.js")(angular,t),e("./routes/addPackage/addPackage.js")(angular,t),e("./routes/tasar/search-brisas.js")(angular,t)}()},{"./components/brisas-carousel/brisas-carousel.js":2,"./components/brisas-chofer/brisas-chofer.js":3,"./components/brisas-contacto/brisas-contacto.js":4,"./components/brisas-footer/brisas-footer.js":5,"./components/brisas-paquetes/brisas-paquetes.js":6,"./components/brisas-seguridad/brisas-seguridad.js":7,"./components/brisas-service-description/brisas-service-description.js":8,"./components/header-brisas/header-brisas.js":9,"./components/navbar-brisas/navbar-brisas.js":10,"./components/uploader/uploader.js":11,"./routes/addPackage/addPackage.js":12,"./routes/adminUsers/adminUsers.js":13,"./routes/buyPackage/buyPackage.js":14,"./routes/choferes/choferes.js":15,"./routes/conocenos/conocenos.js":16,"./routes/dashboard/dashboard.js":17,"./routes/editFares/editFares.js":18,"./routes/editUser/editUser.js":19,"./routes/fpwd/fpwd.js":20,"./routes/home/home.js":21,"./routes/landingBuyPackage/landing.js":22,"./routes/login/login.js":23,"./routes/paquetes-desc/paquetes-desc.js":24,"./routes/paquetes/paquetes.js":25,"./routes/register/register.js":26,"./routes/reqPackages/reqPackages.js":27,"./routes/reqTrips/reqTrips.js":28,"./routes/tasar/search-brisas.js":29,"./services/uploadService.js":30}],2:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(){function e(e,t,a,r){}function t(){var e=this;e.myInterval=3e3,e.noWrapSlides=!1,e.active=1;e.slides=[{text:"UNIDADES DE ALTA GAMA",subtext:"Las mejores unidades, lo ultimo en tecnologia del transporte",image:"./dist/styles/images/slide_1.jpg"},{text:"DISPONIBILIDAD DE UNIDADES",subtext:"Vehiculos disponibles 24/7 para todas tus necesidades",image:"./dist/styles/images/slide_2.jpg"},{text:"SELECCION DE CONDUCTORES",subtext:"Pedinos tu conductor favorito, lo reservaremos para vos",image:"./dist/styles/images/slide_3.jpg"},{text:"PENSADO PARA TU CONFORT",subtext:"Ultimo modelo en unidades, para que disfrutes tus viajes al maximo",image:"./dist/styles/images/slide_4.jpg"}]}return{restrict:"E",replace:!0,templateUrl:"./dist/components/brisas-carousel/brisas-carousel.template.html",link:e,controllerAs:"carousel",controller:t}}t.directive("brisasCarousel",a)}t.exports=r},{}],3:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(){function e(e,t,a,r){e.choferes=[{id:"1",img:"http://www.tripincdn.com.ar/img/Mendoza/Potrerillos/Potrerillos-9.jpg",title:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:"2",img:"http://www.tripincdn.com.ar/img/Mendoza/Potrerillos/Potrerillos-9.jpg",title:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:"3",img:"http://www.tripincdn.com.ar/img/Mendoza/Potrerillos/Potrerillos-9.jpg",title:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."},{id:"4",img:"http://www.tripincdn.com.ar/img/Mendoza/Potrerillos/Potrerillos-9.jpg",title:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}]}function t(){}return{restrict:"E",replace:!0,templateUrl:"./dist/components/brisas-chofer/brisas-chofer.template.html",link:e,controllerAs:"choferCtrl",controller:t}}t.directive("brisasChofer",a)}t.exports=r},{}],4:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t){function a(e,t,a,r){}function r(){function a(){t.post("./dist/php/sendMail.php",{name:s.email.name,lastname:s.email.lastname,tel:s.email.tel,mail:s.email.mail,consulta:s.email.consulta,contactForm:!0}).then(function(t){e.go("home",{},{reload:!0})})}function r(){s.btnMsg="Enviando...",s.sendingMsg=!0}function o(){s.btnMsg="Consultar",s.sending=r,s.email={name:"",lastname:"",tel:"",mail:"",consulta:""},s.sendMail=a}var s=this;o()}return{restrict:"E",replace:!0,templateUrl:"./dist/components/brisas-contacto/brisas-contacto.template.html",link:a,controllerAs:"contactoCtrl",controller:r}}t.directive("brisasContacto",a),a.$inject=["$state","$http"]}t.exports=r},{}],5:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(){function e(e,t,a,r){}function t(){}return{restrict:"E",replace:!0,templateUrl:"./dist/components/brisas-footer/brisas-footer.template.html",link:e,controllerAs:"footerCtrl",controller:t}}t.directive("brisasFooter",a)}t.exports=r},{}],6:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e){function t(e,t,a,r){}function a(){}return{restrict:"E",replace:!0,templateUrl:"./dist/components/brisas-paquetes/brisas-paquetes.template.html",link:t,controllerAs:"packagesCtrl",controller:a}}t.directive("brisasPaquetes",a),a.$inject=["$http"]}t.exports=r},{}],7:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(){function e(e,t,a,r){}function t(){}return{restrict:"E",replace:!0,templateUrl:"./dist/components/brisas-seguridad/brisas-seguridad.template.html",link:e,controllerAs:"securityCtrl",controller:t}}t.directive("brisasSeguridad",a)}t.exports=r},{}],8:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(){function e(e,t,a){}function t(){}return{restrict:"E",replace:!0,templateUrl:"./dist/components/brisas-service-description/brisas-service-description.template.html",link:e,controllerAs:"serviceDescriptionCtrl",controller:t}}t.directive("brisasServiceDescription",a)}t.exports=r},{}],9:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(t,a){function r(e,t,a,r){$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()})}function o(a){var r=this;r.data={from:"",to:"",time:""};var o=document.getElementById("from"),s=new google.maps.places.Autocomplete(o);s.setComponentRestrictions({country:"ar"});var n=document.getElementById("to"),i=new google.maps.places.Autocomplete(n);i.setComponentRestrictions({country:"ar"}),r.search=function(){r.data.from=$("#from").val(),r.data.to=$("#to").val(),a.go("home.tasar",{from:r.data.from,to:r.data.to,time:r.data.time},{reload:!0})},e.element(t).bind("scroll",function(){$("body").scrollTop()>0?r.scrolling=!0:r.scrolling=!1}),r.searchData=function(){return r.enviado=!0}}return{restrict:"E",replace:!0,templateUrl:"./dist/components/header-brisas/header-brisas.template.html",link:r,controllerAs:"headerCtrl",controller:o}}t.directive("brisasHeader",a),a.$inject=["$state"]}t.exports=r},{}],10:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(t,a){function r(t,a,r){t.logoFixed=!1,e.element(document).bind("scroll",function(){var e=$(window).scrollTop();e>40?(t.logoFixed=!0,$("nav").removeClass("navbar"),$("nav").addClass("navbar-fixed"),$("#brand").removeClass("navbar-brand"),$("#brand").addClass("navbar-fixed-brand"),$("#subbrand").removeClass("subbrand"),$("#subbrand").addClass("subbrand-fixed"),$("#brand img").attr("src","./dist/styles/images/premium-fixed.png")):(t.logoFixed=!1,$("nav").addClass("navbar"),$("nav").removeClass("navbar-fixed"),$("#brand").addClass("navbar-brand"),$("#brand").removeClass("navbar-fixed-brand"),$("#subbrand").addClass("subbrand"),$("#subbrand").removeClass("subbrand-fixed"),$("#brand img").attr("src","./dist/styles/images/premium2.png"))})}function o(e){function t(){"home"==e.current.name?$("html, body").animate({scrollTop:4400},"slow"):e.go("home").then(function(){$("html, body").animate({scrollTop:4400},"slow")})}function r(){a.post("./dist/php/delete_session.php",{sskey:sessionStorage.getItem("sskey")}).success(function(t){t.deleted&&(sessionStorage.clear(),e.go("home",{},{reload:!0}))})}var o=this;o.logoFixed=!1,o.username="",a.post("./dist/php/check_session.php",{sskey:sessionStorage.getItem("sskey"),getuserinfo:!0}).success(function(e){o.isAdmin=e.isAdmin,o.userId=e.userId}),sessionStorage.getItem("sskey")?o.isLogged=!0:o.isLogged=!1,o.isLogged&&(o.username=sessionStorage.getItem("username")),o.exit=r,o.toContact=t}return{restrict:"E",replace:!0,templateUrl:"./dist/components/navbar-brisas/navbar-brisas.template.html",link:r,controllerAs:"navbarCtrl",controller:o}}t.directive("brisasNavbar",a),a.$inject=["$state","$http"]}t.exports=r},{}],11:[function(e,t,a){function r(e,t){"use strict";function a(e){return{restrict:"A",link:function(t,a,r){a.on("change",function(o){e(r.uploaderModel).assign(t,a[0].files[0])})}}}t.directive("uploaderModel",a),a.$inject=["$parse"]}t.exports=r},{}],12:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r,o,s,n,i){function l(){switch(m.editImg.length&&(m.package.editImg=JSON.stringify(m.editImg)),m.package.hasPromo=m.myPromo.value,m.package.zone=m.myZone,m.package.hasPromo){case 0:delete m.package.bonificado,delete m.package.porcentaje;break;case 1:delete m.package.bonificado;break;case 2:delete m.package.porcentaje}s.uploadForm(m.package,"./dist/php/edit_package.php").then(function(){e.go("home.paquetes",{},{reload:!0})}).finally(function(){})}function c(){m.package.timestamp=(new Date).getTime(),m.package.zone=m.myZone,s.uploadForm(m.package,"./dist/php/add_package.php").then(function(){e.go("home.paquetes",{},{reload:!0})}).finally(function(){})}function d(){m.isEditing?m.updatePackage():m.addPackage()}function u(e,t){switch(e){case 0:m.changeImg0=!0,m.editImg.push({img:"img1",id:t});break;case 1:m.changeImg1=!0,m.editImg.push({img:"img2",id:t});break;case 2:m.changeImg2=!0,m.editImg.push({img:"img3",id:t});break;case 3:m.changeImg3=!0,m.editImg.push({img:"img4",id:t})}}function p(){m.promos=[{value:0,beneficio:"Seleccione un tipo de descuento"},{value:1,beneficio:"Porcentaje"},{value:2,beneficio:"Bonificado"}],m.zonas=[{value:"",name:"Seleccione una zona"},{value:"1",name:"Bodegas"},{value:"2",name:"Alta Monta&ntilde;a"},{value:"3",name:"City Tour"},{value:"4",name:"Sur Mendocino"},{value:"5",name:"Este Mendocino"},{value:"6",name:"D&iacute;a de campo"}],m.changeImg0=!1,m.changeImg1=!1,m.changeImg2=!1,m.changeImg3=!1,m.isEditing=!1,m.myPromo=m.promos[0],m.myZone=m.zonas[0].value,m.actionLabel="Crear Paquete",e.params.packageId&&r.get("./dist/php/get_packages.php").then(function(t){m.package=o("filter")(t.data.packages,{id:e.params.packageId})[0],m.actionLabel="Modificar Paquete",m.isEditing=!0,m.myPromo=m.promos[m.package.hasPromo],m.myZone=m.zonas[m.package.zone].value}),m.addPackage=c,m.updatePackage=l,m.submit=d,m.changeImg=u}var m=this;m.package={},m.editImg=[],p()}t.controller("addPackageCtrl",a),a.$inject=["$state","$scope","$sce","$http","$filter","uploadService"]}t.exports=r},{}],13:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r,o){function s(e){d.user=e,d.openModal("md")}function n(t){e.go("home.editUser",{user:t},{})}function i(t){a.post("./dist/php/edit_user.php",{id:t.id,lockunlock:t.isAdmin,editUser:!1}).then(function(t){e.go(e.current,{},{reload:!0})})}function l(e){r.open({templateUrl:"confirmRemove.html",controller:"modalUserCtrl",controllerAs:"modalUser",size:e,resolve:{items:function(){return d.user}}})}function c(){d.remove=s,d.edit=n,d.makeAdmin=i,d.openModal=l,t.filtered=[],a.post("./dist/php/get_users.php",{sskey:sessionStorage.getItem("sskey")}).then(function(e){d.users=e.data.users,t.totalItems=Object.keys(d.users).length,t.currentPage=1,t.itemsPerPage=5,t.maxSize=5,t.setPage=function(e){t.currentPage=e},t.pageChanged=function(){},t.$watch("search",function(e){var a=e;t.filtered=o("filter")(d.users,a),t.currentPage=1})})}var d=this;d.users=[],d.user={},c()}function r(e,t,a,r,o,s,n){function i(){a.post("./dist/php/delete_user.php",{id:d.user.id}).then(function(e){o.dismiss("cancel"),t.go(t.current,{},{reload:!0})})}function l(){o.dismiss("cancel")}function c(){console.log(n),d.user=n,d.confirm=i,d.cancel=l}var d=this;c()}t.controller("adminUsersCtrl",a),a.$inject=["$state","$scope","$http","$uibModal","$filter"],t.controller("modalUserCtrl",r),r.$inject=["$scope","$state","$http","$filter","$uibModalInstance","$rootScope","items"]}t.exports=r},{}],14:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r,o){function s(e){return o.trustAsResourceUrl(e)}function n(){$("html, body").animate({scrollTop:420},"slow"),e.params.paymentGatewayUrl?i.paymentGatewayUrl=e.params.paymentGatewayUrl:e.go("home.paquetes",{},{reload:!0}),i.trustSrc=s}var i=this;n()}t.controller("buyPackageCtrl",a),a.$inject=["$state","$scope","$rootScope","$http","$sce"]}t.exports=r},{}],15:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t){function a(){}a()}t.controller("driversCtrl",a),a.$inject=["$state","$scope"]}t.exports=r},{}],16:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t){function a(){}a()}t.controller("knowUsCtrl",a),a.$inject=["$state","$scope"]}t.exports=r},{}],17:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r){function o(){a.tripsToContest=t.tripsToContest,$("html, body").animate({scrollTop:420},"slow"),s.tabs=[{title:"Crear paquetes",route:"tab1",active:!0},{title:"Editar Tarifas",route:"tab2",active:!1},{title:"Administrar usuarios",route:"tab3",active:!1},{title:"Solicitudes de paquetes",route:"tab4",active:!1},{title:"Solicitudes de viajes",route:"tab5",active:!1}]}var s=this;o()}t.controller("dashboardCtrl",a),a.$inject=["$state","$scope","$rootScope","$http","$sce"]}t.exports=r},{}],18:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(t,a,r){function o(){r.post("./dist/php/edit_fares.php",{bbandera_dia:parseFloat(n.fare.bbandera_dia).toFixed(2),km_dia:parseFloat(n.fare.km_dia).toFixed(2),bbandera_noche:parseFloat(n.fare.bbandera_noche).toFixed(2),km_noche:parseFloat(n.fare.km_noche).toFixed(2)}).then(function(e){t.go("home",{},{reload:!0})})}function s(){n.update=o,r.get("./dist/php/get_fares.php").then(function(t){e.forEach(t.data.fares,function(e){1==e.daytime?(n.fare.bbandera_dia=e.bajada_bandera,n.fare.km_dia=e.km):2==e.daytime&&(n.fare.bbandera_noche=e.bajada_bandera,n.fare.km_noche=e.km)})})}var n=this;n.fare={},s()}t.controller("faresCtrl",a),a.$inject=["$state","$scope","$http"]}t.exports=r},{}],19:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a){function r(){a.post("./dist/php/edit_user.php",{id:s.user.id,name:s.user.name,lastname:s.user.lastname,email:s.user.email,tel:s.user.tel,city:s.user.city,password:s.user.password||"",editUser:!0}).then(function(t){e.go("home",{},{reload:!0})})}function o(){e.params.userId&&a.post("./dist/php/get_users.php",{sskey:sessionStorage.getItem("sskey"),userId:e.params.userId}).then(function(e){s.user=e.data.users[0]}),$("html, body").animate({scrollTop:500},"slow"),s.update=r,s.user=e.params.user;var t=document.getElementById("country");new google.maps.places.Autocomplete(t)}var s=this;s.user={},o()}t.controller("editUsersCtrl",a),a.$inject=["$state","$scope","$http"]}t.exports=r},{}],20:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r,o,s,n){function i(e,t){e===t?(d.changepwd(e),d.fpwdForm.$setValidity("valid",!0),d.fpwdForm.pwd1.$setValidity("valid",!0),d.fpwdForm.pwd2.$setValidity("valid",!0)):(d.fpwdForm.$setValidity("invalid",!0),d.fpwdForm.pwd1.$setValidity("invalid",!0),d.fpwdForm.pwd2.$setValidity("invalid",!0),d.match=!0)}function l(t){console.log(t),e.post("./dist/php/reset_pwd.php",{pwd:t,token:r.params.token,toReset:!0}).then(function(e){d.successChangingPwd=!0,a(function(){r.go("home")},5e3)})}function c(){d.match=!1,d.invalidMsg="",d.changepwd=l,d.validatePwd=i,r.params.token?(d.validToken=!0,e.post("./dist/php/reset_pwd.php",{token:r.params.token,checkValidToken:!0}).then(function(e){e.data.errors.invalid&&(d.validToken=!1,d.invalidMsg="El C&oacute;digo de renovaci&oacute;n de contrase&ntilde;a es inv&aacute;lido o ya ha sido utilizado.<br>Ser&aacute; redireccionado a la pantalla principal.<br> Por favor intente nuevamente.<br> Muchas gracias por elegirnos.",a(function(){r.go("home")},5e3)),e.data.errors.expired&&(d.validToken=!1,d.invalidMsg="El C&oacute;digo de renovaci&oacute;n de contrase&ntilde;a ha expirado.<br>Ser&aacute; redireccionado a la pantalla principal.<br> Por favor intente nuevamente.<br> Muchas gracias por elegirnos.",a(function(){r.go("home")},5e3))})):d.validToken=!1,$("html, body").animate({scrollTop:460},"slow")}var d=this;d.validToken=!1,d.successChangingPwd=!1,c()}t.controller("fpwdCtrl",a),a.$inject=["$http","$filter","$timeout","$state","$scope","$sce"]}t.exports=r},{}],21:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r,o){function s(){$("html, body").scrollTop(0),a.$on("$stateChangeSuccess",function(e,t,a){r.scrollTo(0,0)})}s()}t.controller("homeCtrl",a),a.$inject=["$state","$scope","$rootScope","$window","$http"]}t.exports=r},{}],22:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r){function o(){e.go("home",{reload:!0})}function s(){n.goHome=o,$("html, body").animate({scrollTop:420},"slow"),a.pckg&&r.post("./dist/php/add_soldpackage.php",{name:a.pckg.name,lastname:a.pckg.lastname,email:a.pckg.email,tel:a.pckg.tel,date:a.pckg.date,time:a.pckg.time,packageId:a.pckg.packageId}).then(function(e){})}var n=this;s()}t.controller("landingCtrl",a),a.$inject=["$state","$scope","$rootScope","$http","$sce"]}t.exports=r},{}],23:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r){function o(){r.post("./dist/php/login.php",{username:i.user.username,password:i.user.password}).then(function(t){i.error="",t.data.errors?(i.error=t.data.errors.loginError,i.loginForm.$setPristine(),i.user={}):(sessionStorage.sskey=t.data.sskey,sessionStorage.username=t.data.name+" "+t.data.lastname,i.loginForm.$setPristine(),i.user={},e.go("home",{},{reload:!0}))})}function s(){i.fpwduser.sending=!0,r.post("./dist/php/reset_pwd.php",{email:i.fpwduser.email,toReset:!1}).then(function(e){i.error="",e.data.errors?(i.fpwd.error=e.data.errors,i.registerForm.email.$setValidity("email",!1)):r.post("./dist/php/sendMail.php",{email:i.fpwduser.email,token:e.data.fpswdToken,msg:"se ha solicitado la renovacion de contraseÃ±a para "+i.fpwduser.email+",por favor ingresa en: http://localhost:8080/brisas_vip/#/reset-pwd/q"+e.data.fpswdToken+"para continuar con el proceso.",resetPwd:!0}).then(function(e){i.showfpwdSuccessMsg=!0})})}function n(){$("html, body").animate({scrollTop:$("#login").offset().top},1e3),i.fpwdshow=!1,i.fpwduser.sending=!1,i.pwdreset=s,i.login=o}var i=this;i.user={},i.fpwduser={},i.error="",i.loginError="",n()}t.controller("loginCtrl",a),a.$inject=["$state","$scope","$rootScope","$http"]}t.exports=r},{}],24:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r,o){function s(e){o.open({templateUrl:"buyModal.html",controller:"modalPckgCtrl",controllerAs:"buyPckg",size:e,resolve:{items:function(){return c.data}}})}function n(){c.openModal("md")}function i(){$("html, body").animate({scrollTop:460},"slow"),c.openModal=s,c.buyPackage=n}function l(e){c.data.imgSelected=e}var c=this;e.get("./dist/php/get_packages.php").then(function(e){c.data=t("filter")(e.data.packages,{id:a.params.packageId})[0],c.data.bonificado&&(c.data.bonificado=c.data.bonificado.split(",")),c.data.imgSelected=c.data.images[0].url}),c.toBigPicture=l,i()}function r(e,t,a,r,o,s,n,i){function l(){u.pckg.date=a("date")(e.dt,"dd-MM-yyyy"),u.pckg.time=a("date")(e.mytime,"HH:mm"),r.dismiss("cancel"),u.paymentGatewayUrl=i.paymentGatewayUrl,u.pckg.packageId=i.id,n.pckg=u.pckg,t.go("home.buyPackage",{paymentGatewayUrl:u.paymentGatewayUrl,packageId:u.packageId},{reload:!0})}function c(){r.dismiss("cancel")}function d(){u.buy=l,u.cancel=c,u.pckg={}}var u=this;e.today=function(){e.dt=new Date},e.dateOptions={formatYear:"yy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},e.open1=function(){e.popup1.opened=!0,e.inlineOptions.minDate=e.inlineOptions.minDate?null:new Date,e.dateOptions.minDate=e.inlineOptions.minDate},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd/MM/yyyy","shortDate"],e.format=e.formats[2],e.altInputFormats=["M!/d!/yyyy"],e.popup1={opened:!1},e.today(),e.mytime=new Date,e.hstep=1,e.mstep=1,e.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},e.ismeridian=!0,e.toggleMode=function(){e.ismeridian=!e.ismeridian},e.update=function(){var t=new Date;t.setHours(14),t.setMinutes(0),e.mytime=t},n.$on("$stateChangeStart",function(e){r.dismiss("cancel")}),d()}t.controller("packageDescCtrl",a),a.$inject=["$http","$filter","$state","$scope","$uibModal"],t.controller("modalPckgCtrl",r),r.$inject=["$scope","$state","$filter","$uibModalInstance","$sce","$compile","$rootScope","items"]}t.exports=r},{}],25:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r){function o(a,r){confirm("Esta seguro que desea eliminar el paquete '"+r+"' ?")&&e.post("./dist/php/delete_package.php",{id:a}).then(function(e){t.go(t.current,{},{reload:!0})})}function s(e){t.go("home.editPackage",{pkgedit:e},{})}function n(){e.get("./dist/php/get_packages.php").then(function(e){l.packages=e.data.packages})}function i(){l.minPrice=0,l.maxPrice=2e4,l.userMinPrice=l.minPrice,l.userMaxPrice=l.maxPrice,l.airport=!1,l.hotel=!1,l.allInclusive=!1,l.lunch=!1,$("html, body").animate({scrollTop:450},"slow"),l.remove=o,l.edit=s,l.getPackages=n,l.getPackages()}var l=this;e.post("./dist/php/check_session.php",{sskey:sessionStorage.getItem("sskey"),getuserinfo:!1}).success(function(e){l.isAdmin=e.isAdmin,$("#openSidebar").on("click",function(){console.log("pen"),$(".sidebar").css("display","inline-block")}),$("#closeSidebar").on("click",function(){console.log("clsw"),$(".sidebar").css("display","none")})}),i()}function r(){return function(t,a){if(void 0!==t){var r=[],o=parseInt(a.userMinPrice),s=parseInt(a.userMaxPrice);return e.forEach(t,function(e){if(e.porcentaje){var t=e.price-e.price*e.porcentaje/100;t>=o&&t<=s&&r.push(e)}else e.price>=o&&e.price<=s&&r.push(e)}),r}return t}}t.controller("packageCtrl",a),t.filter("rangeFilter",r),a.$inject=["$http","$state","$filter","$sce"]}t.exports=r},{}],26:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r){function o(){s(l.user.password,l.user.pwd2)&&(l.user.country=$("#country").val(),l.btnMsg="Enviando",l.sending=!0,a.post("./dist/php/register.php",{name:l.user.name,lastname:l.user.lastname,email:l.user.email,tel:l.user.tel,city:l.user.country,password:l.user.password}).then(function(e){l.error="",e.data.errors?(l.error=e.data.errors,l.registerForm.email.$setValidity("email",!1)):a.post("./dist/php/sendMail.php",{email:l.user.email,token:e.data.registerToken,msg:"se ha solicitado el registro de el usuario "+l.user.email+",por favor ingresa en: http://localhost:8080/brisas_vip/#/register/"+e.data.registerToken+"para continuar con el proceso.",registerToken:!0}).then(function(e){l.registerForm.$setPristine(),l.user={},l.validateRegister=!0})}))}function s(e,t){return e!==t?(l.registerForm.password.$setValidity("invalid",!0),l.registerForm.pwd2.$setValidity("invalid",!0),l.match=!0,!1):(l.registerForm.password.$setValidity("valid",!0),l.registerForm.pwd2.$setValidity("valid",!0),l.match=!1,!0)}function n(){l.error=""}function i(){l.validateRegister=!1,l.validToken=!0,l.btnMsg="Registrarme",l.sending=!1,l.concludeRegister=!1,$("html, body").animate({scrollTop:$("#register").offset().top},1e3),l.register=o,l.resetEmail=n;var t=document.getElementById("country");new google.maps.places.Autocomplete(t);e.params.token?a.post("./dist/php/register.php",{conclude:!0,token:e.params.token}).then(function(t){console.log(t),t.data.errors.invalid?(l.validToken=!1,l.invalidMsg="El C&oacute;digo de Registro es inv&aacute;lido o ya ha sido utilizado.<br>Ser&aacute; redireccionado a la pantalla principal.<br> Por favor intente nuevamente.<br> Muchas gracias por elegirnos.",r(function(){e.go("home")},5e3)):t.data.errors.expired?(l.validToken=!1,l.invalidMsg="El C&oacute;digo de Registro ha expirado.<br>Ser&aacute; redireccionado a la pantalla principal.<br> Por favor intente nuevamente.<br> Muchas gracias por elegirnos.",r(function(){e.go("home")},5e3)):l.concludeRegister=!0}):l.concludeRegister=!1}var l=this;l.user={},i()}t.controller("registerCtrl",a),a.$inject=["$state","$scope","$http","$timeout"]}t.exports=r},{}],27:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r,o){function s(e){i.printTrip={},i.printTrip=e,e.bonificado.length>0&&(i.printTrip.bonificado=e.bonificado.split(",")),console.log(i.printTrip),o(function(){window.print()},1e3)}function n(){i.imprimirViaje=s,a.get("./dist/php/get_reqPackages.php").then(function(e){i.packages=e.data.reqPackages,t.totalItems=Object.keys(i.packages).length,t.currentPage=1,t.itemsPerPage=5,t.maxSize=5,t.setPage=function(e){t.currentPage=e},t.pageChanged=function(){},t.$watch("search",function(e){var a=e;t.filtered=r("filter")(i.packages,a),t.currentPage=1})})}var i=this;i.packages=[],t.filtered=[],n()}t.controller("reqPackagesCtrl",a),a.$inject=["$state","$scope","$http","$filter","$timeout"]}t.exports=r},{}],28:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r,o,s,n){function i(e){p.trip=e,p.trip.confirmTrip=!0,p.openModal("md")}function l(e){p.trip=e,p.trip.confirmTrip=!1,p.openModal("md")}function c(e){p.printTrip={},p.printTrip=e,n(function(){window.print()},1e3)}function d(e){o.open({templateUrl:"confirmTripModal.html",controller:"modalTripCtrl",controllerAs:"modalTrip",size:e,resolve:{items:function(){return p.trip}}})}function u(){t.filtered=[],p.openModal=d,p.revoke=l,p.confirm=i,p.imprimirViaje=c,r.get("./dist/php/get_reqTrips.php").then(function(e){p.trips=e.data.reqTrips,a.tripsToContest=s("filter")(p.trips,{state:0}).length,console.log(a.tripsToContest),t.totalItems=Object.keys(p.trips).length,t.currentPage=1,t.itemsPerPage=5,t.maxSize=5,t.setPage=function(e){t.currentPage=e},t.pageChanged=function(){},t.$watch("search",function(e){var a=e;t.filtered=s("filter")(p.trips,a),t.currentPage=1})})}var p=this;p.trips=[],p.trip={},u()}function r(e,t,a,r,o,s,n){function i(){var e=n;d.sendingEmail=!0,n.confirmTrip?a.post("./dist/php/sendMail.php",{email:e.email,msg:"El viaje ha sido agendado. Muchas gracias por utilizar nuestros servicios.",
from:e.req_from,to:e.req_to,date:e.date,time:e.time,price:e.price,id:e.id,confirm:!0}).then(function(e){d.sendingEmail=!1,d.action="confirmar",o.dismiss("cancel"),t.go(t.current,{},{reload:!0})}):(d.sendingEmail=!0,a.post("./dist/php/sendMail.php",{email:e.email,id:e.id,msg:"Hubo un problema al procesar su solicitud de  viaje. Por favor comunicate a los siguientes tel&eacute;fonos para solicitar tu traslado: +54 9 0261 4309100 - +54 9 0261 4376499 - +54 9 0261 4378080. Muchas gracias.",revoke:!0}).then(function(e){d.sendingEmail=!1,d.action="rechazar",o.dismiss("cancel"),t.go(t.current,{},{reload:!0})}))}function l(){o.dismiss("cancel")}function c(){d.sendingMsg="Enviando...",d.sendingEmail=!1,console.log(n),d.confirm=i,d.cancel=l,n.confirmTrip?d.action="confirmar":d.action="rechazar"}var d=this;c()}t.controller("reqTripsCtrl",a),a.$inject=["$state","$scope","$rootScope","$http","$uibModal","$filter","$timeout"],t.controller("modalTripCtrl",r),r.$inject=["$scope","$state","$http","$filter","$uibModalInstance","$rootScope","items"]}t.exports=r},{}],29:[function(e,t,a){function r(e,t){"use strict";"use angular template";function a(e,t,a,r,o){function s(){google.maps.event.addListener(j,"directions_changed",function(){i(j.directions)})}function n(){var t=e.params.from,a=e.params.to;$(".info #from-mobile").val().length>0&&(t=$(".info #from-mobile").val()),$(".info #to-mobile").val().length>0&&(a=$(".info #to-mobile").val());var r={origin:t,destination:a,unitSystem:google.maps.UnitSystem.METRIC,travelMode:google.maps.DirectionsTravelMode.DRIVING};P.route(r,function(e,t){t==google.maps.DirectionsStatus.OK&&(j.setDirections(e),console.log(e.routes[0].legs[0].distance),f=parseFloat(e.routes[0].legs[0].distance.value/1e3).toFixed(2),l(f),c())})}function i(e){for(var t=0,a=e.routes[0],r=0;r<a.legs.length;r++)t+=a.legs[r].distance.value;t/=1e3,document.getElementById("total").innerHTML=t+" km"}function l(e){$("#dist").val(e+" Km.")}function c(){console.log(f);var e="";e=$(".info #tarifa-mobile")&&null!==$(".info #tarifa-mobile").val()&&void 0!==$(".info #tarifa-mobile").val()&&$(".info #tarifa-mobile").val().length>0?$("#tarifa-mobile").val():$("#tarifa").val(),a.post("./dist/php/get_fares.php",{daytime:e}).then(function(e){if(e.data.fares.length){var t=(f*parseFloat(e.data.fares[0].km)+parseFloat(e.data.fares[0].bajada_bandera)).toFixed(2);$("#totalPrice").val(t)}})}function d(e){o.open({templateUrl:"myModal.html",controller:"modalCtrl",size:e})}function u(){m.reserved.from=e.params.from,m.reserved.to=e.params.to,m.reserved.distance=parseFloat($("#dist").val().replace(",","")),m.reserved.price=$("#totalPrice").val(),m.reserved.date=r("date")(t.dt,"dd-MM-yyyy"),m.reserved.time=r("date")(t.mytime,"HH:mm"),m.reserved.user=sessionStorage.getItem("username"),sessionStorage.getItem("sskey")?""==m.reserved.from||""==m.reserved.to?m.noSearch=!0:(m.btnMsg="Solicitando...",m.sending=!0,m.noSearch=!1,a.post("./dist/php/check_session.php",{sskey:sessionStorage.getItem("sskey"),getuserinfo:!0}).success(function(o){m.userId=o.userId,m.userEmail=o.userEmail,m.userTel=o.userTel,a.post("./dist/php/sendMail.php",{from:e.params.from,to:e.params.to,distance:parseFloat($("#dist").val().replace(",","")),price:$("#totalPrice").val(),date:r("date")(t.dt,"dd-MM-yyyy"),time:r("date")(t.mytime,"HH:mm"),user:sessionStorage.getItem("username"),userId:m.userId,userEmail:m.userEmail,userTel:m.userTel,rateForm:!0}).then(function(e){m.openModal("md"),m.sending=!1,m.btnMsg="Solicitar Viaje"})})):m.openModal("md")}function p(){m.reserved={from:"",to:"",price:"",distance:"",date:"",time:"",user:""},m.btnMsg="Solicitar Viaje",m.sending=!1,$("#from").val(e.params.from),$("#to").val(e.params.to),$("#tarifa").val(e.params.time),m.data=e.params,m.data.price="0.00",m.reserve=u,m.openModal=d,$("html, body").animate({scrollTop:340},"slow"),google.maps.event.addDomListener(window,"load",s);var t=new google.maps.LatLng((-32.88881),(-68.850378)),r={zoom:13,center:t};b=new google.maps.Map(document.getElementById("map"),r),n(),j.setMap(b),m.closed=!1;var o=new Date,o=parseInt(o.getDay());console.log(o),0!==o&&6!==o?a.get("./dist/php/get_server_time.php").success(function(e){console.log(e),"true"==e?(m.closed=!0,m.btnMsg="Cerrado"):m.closed=!1}):(m.closed=!0,m.btnMsg="Cerrado")}var m=this;$("#tarifa-mobile").on("change",function(){n()});var g={componentRestrictions:{country:"ar"}},f=0,h={map:b,draggable:!1};t.today=function(){t.dt=new Date},t.dateOptions={formatYear:"yy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},t.open1=function(){t.popup1.opened=!0,t.inlineOptions.minDate=t.inlineOptions.minDate?null:new Date,t.dateOptions.minDate=t.inlineOptions.minDate},t.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd/MM/yyyy","shortDate"],t.format=t.formats[2],t.altInputFormats=["M!/d!/yyyy"],t.popup1={opened:!1},t.today(),t.mytime=new Date,t.hstep=1,t.mstep=1,t.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},t.ismeridian=!0,t.toggleMode=function(){t.ismeridian=!t.ismeridian},t.update=function(){var e=new Date;e.setHours(14),e.setMinutes(0),t.mytime=e};var b,v=document.getElementById("from"),k=document.getElementById("to"),y=document.getElementById("to-mobile"),w=document.getElementById("from-mobile"),j=(new google.maps.places.Autocomplete(v,g),new google.maps.places.Autocomplete(k,g),new google.maps.places.Autocomplete(y,g),new google.maps.places.Autocomplete(w,g),new google.maps.DirectionsRenderer(h)),P=new google.maps.DirectionsService;google.maps.event.addDomListener(window,"load",s),google.maps.event.addDomListener(window,"load",s),p()}function r(e,t,a,r,o,s){e.to_trusted=function(t){var a=o(t)(e),s=a[0].outerHTML;return r.trustAsHtml(s)},sessionStorage.getItem("sskey")?(e.isLogged=!0,e.msg="<span> El viaje ha sido solicitado satisfactoriamente, por favor espera la confirmaci&oacute;n de la reserva en tu correo.</span>",e.close=function(){t.go("home",{},{reload:!0}),a.dismiss("cancel")}):(e.isLogged=!1,e.msg="<span>Debe ingresar en la aplicaci&oacute;n para poder solicitar un viaje.<br/> En caso de no poseer un usuario deber&aacute; <a ui-sref='home.register'>Registrarse</a>.</span>",e.toLogin=function(){t.go("home.login",{},{reload:!0}),a.dismiss("cancel")},e.cancel=function(){a.dismiss("cancel")}),s.$on("$stateChangeStart",function(e,t,r,o,s){a.dismiss("cancel")})}t.controller("rateCtrl",a),a.$inject=["$state","$scope","$http","$filter","$uibModal"],t.controller("modalCtrl",r),r.$inject=["$scope","$state","$uibModalInstance","$sce","$compile","$rootScope"]}t.exports=r},{}],30:[function(e,t,a){function r(e,t){"use strict";function a(t,a){this.uploadForm=function(r,o){var s=a.defer(),n=new FormData;return e.forEach(r,function(e,t){n.append(t,e)}),t.post(o,n,{transformRequest:e.identity,headers:{"Content-Type":void 0}}).success(function(e){s.resolve(e)}).error(function(e,t){s.reject(e)})}}t.service("uploadService",a),a.$inject=["$http","$q"]}t.exports=r},{}]},{},[1]);